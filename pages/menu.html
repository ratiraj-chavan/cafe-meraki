<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - Cafe Meraki</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <nav class="navbar">
            <a href="../index.html">   üè†                  </a>
            <a href="menu.html">   üóíÔ∏è               </a>
            <a href="reservation.html">      ‚úÖ              </a>
            <a href="cart.html">   üõí                   [<span id="cart-count">0</span>]</a>
            <a href="account.html">          ‚ÑÄ</a> 
        </nav>
    </header>
    <br><br><br><br>
    <section id="menu" class="menu">
        <h2>Our Menu</h2>
        <div class="menu-grid">
            <!-- Menu items list -->
            <div class="menu-item"> 
                <img src="img/pizza.avif" alt="Pizza" class="menu-img">
                <h3>Classic Pizza</h3>
                <h4>Price: 100 rs</h4>
                <input type="number" id="pizza-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Classic Pizza', 100, 'pizza-quantity', this)">Add to Cart</button>
            </div>
            
            <div class="menu-item">
                <img src="img/burger.avif" alt="Burger" class="menu-img">
                <h3>Burger Combo</h3>
                <h4>Price: 210 rs</h4>
                <input type="number" id="burger-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Burger Combo', 210, 'burger-quantity', this)">Add to Cart</button>
            </div> 
            
            <div class="menu-item">
                <img src="img/vegroll.jpeg" alt="Veg Roll" class="menu-img">
                <h3>Paneer Veg Roll</h3>
                <h4>Price: 100 rs</h4>
                <input type="number" id="vegroll-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Paneer Veg Roll', 100, 'vegroll-quantity', this)">Add to Cart</button>
            </div> 
            
            <div class="menu-item">
                <img src="img/sandwich.jpg" alt="Sandwich" class="menu-img">
                <h3>Boom Sandwich</h3>
                <h4>Price: 120 rs</h4>
                <input type="number" id="sandwich-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Boom Sandwich', 120, 'sandwich-quantity', this)">Add to Cart</button>
            </div>
            
            <div class="menu-item">
                <img src="img/biryani.avif" alt="Biryani" class="menu-img">
                <h3>Tandoori Biryani</h3>
                <h4>Price: 120 rs</h4>
                <input type="number" id="biryani-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Tandoori Biryani', 120, 'biryani-quantity', this)">Add to Cart</button>
            </div> 
            
            <div class="menu-item">
                <img src="img/bhattichicken.avif" alt="Bhatti Chicken" class="menu-img">
                <h3>Bhatti Chicken</h3>
                <h4>Price: 250 rs</h4>
                <input type="number" id="bhattichicken-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Bhatti Chicken', 250, 'bhattichicken-quantity', this)">Add to Cart</button>
            </div> 
            
            <div class="menu-item">
                <img src="img/momo.avif" alt="Momo" class="menu-img">
                <h3>Steam Momos</h3>
                <h4>Price: 60 rs</h4>
                <input type="number" id="momo-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Steam Momos', 60, 'momo-quantity', this)">Add to Cart</button>
            </div> 
            
            <div class="menu-item">
                <img src="img/pasta.avif" alt="Pasta" class="menu-img">
                <h3>Hola Pasta</h3>
                <h4>Price: 150 rs</h4>
                <input type="number" id="pasta-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Hola Pasta', 150, 'pasta-quantity', this)">Add to Cart</button>
            </div>
            
            <div class="menu-item">
                <img src="img/cheesecake.jpg" alt="Cheesecake" class="menu-img">
                <h3>Cheese-Cake</h3>
                <h4>Price: 180 rs</h4>
                <input type="number" id="cake-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Cheese-Cake', 180, 'cake-quantity', this)">Add to Cart</button>
            </div>
            
            <div class="menu-item">
                <img src="img/icecream.avif" alt="Ice Cream" class="menu-img">
                <h3>Ice-Cream</h3>
                <h4>Price: 80 rs</h4>
                <input type="number" id="icecream-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Ice-Cream', 80, 'icecream-quantity', this)">Add to Cart</button>
            </div>
            
            <div class="menu-item">
                <img src="img/coffe.avif" alt="Cold Coffee" class="menu-img">
                <h3>Cold Coffee</h3>
                <h4>Price: 70 rs</h4>
                <input type="number" id="coffee-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Cold Coffee', 70, 'coffee-quantity', this)">Add to Cart</button>
            </div>
            
            <div class="menu-item">
                <img src="img/waffel.avif" alt="Waffle" class="menu-img">
                <h3>Chocolate-Waffle</h3>
                <h4>Price: 50 rs</h4>
                <input type="number" id="waffel-quantity" value="1" min="1">
                <button class="btn" onclick="addToCart('Chocolate-Waffle', 50, 'waffel-quantity', this)">Add to Cart</button>
            </div>
            
        <br><br>
        
    </section>
    

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        function addToCart(itemName, itemPrice, quantityId, button) {
            let quantity = parseInt(document.getElementById(quantityId).value);
            if (quantity > 0) {
                const existingItem = cart.find(item => item.name === itemName);
                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    cart.push({ name: itemName, price: itemPrice, quantity });
                }
                localStorage.setItem('cart', JSON.stringify(cart));

                // Animate the image
                const itemImage = button.parentNode.querySelector('.menu-img');
                if (itemImage) {
                    animateToCart(itemImage);
                }

                setTimeout(() => {
                    updateCartCount();
                }, 800);
            } else {
                alert("Please select a valid quantity.");
            }
        }

        // Function to animate the item image flying to the cart
        function animateToCart(itemImage) {
            let cartIcon = document.querySelector("#cart-count");
            if (!cartIcon || !itemImage) return;

            let imgRect = itemImage.getBoundingClientRect();
            let cartRect = cartIcon.getBoundingClientRect();

            // Clone the image for animation
            let flyingImg = itemImage.cloneNode(true);
            flyingImg.classList.add("flying-item");

            // Set initial position relative to viewport
            flyingImg.style.position = "fixed";
            flyingImg.style.left = `${imgRect.left}px`;
            flyingImg.style.top = `${imgRect.top}px`;
            flyingImg.style.width = "80px";
            flyingImg.style.height = "auto";
            flyingImg.style.opacity = "1";
            flyingImg.style.transition = "all 0.8s ease-in-out";

            document.body.appendChild(flyingImg);

            // Move image toward cart
            setTimeout(() => {
                flyingImg.style.left = `${cartRect.left}px`;
                flyingImg.style.top = `${cartRect.top}px`;
                flyingImg.style.opacity = "0";
            }, 10);

            // Remove the animated image after animation
            setTimeout(() => {
                flyingImg.remove();
            }, 1000);
        }

        function updateCartCount() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = cartCount;
        }

        updateCartCount();
    </script>
<script src="../script/animation.js"></script>
</body>

<footer>
    <p>&copy; 2025 Cafe Meraki - All Rights Reserved</p>
    <p>Ownership and maintenance by Ratiraj Chavan</p>
</footer>

</html>
